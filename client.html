<!DOCTYPE html>
<html>
<head>
  <title>LiveKit Agent</title>
  <script type="module">
    import { connect } from "https://cdn.jsdelivr.net/npm/livekit-client/dist/livekit-client.mjs";

    const ROOM_URL = "wss://your-livekit-server";
    const TOKEN = "YOUR_ACCESS_TOKEN"; // Server-generated

    async function start() {
      const room = await connect(ROOM_URL, TOKEN);

      room.on("trackSubscribed", (track, publication, participant) => {
        if (track.kind === "audio") {
          const audioEl = document.createElement("audio");
          audioEl.srcObject = new MediaStream([track.mediaStreamTrack]);
          audioEl.autoplay = true;
          document.body.appendChild(audioEl);
        }
      });

      console.log("âœ… Connected to LiveKit room");
    }

    start();
  </script>
</head>
<body>
  <h1>LiveKit Agent Listening</h1>
</body>
</html>
